<iframe 
    id="iframe-resumidor" 
    src="https://TU_USUARIO.github.io/TU_REPO/" 
    width="100%" 
    height="250" 
    style="border:none;">
</iframe>

<script>
    // Esperamos a que la página de WP cargue completamente
    window.addEventListener('load', function() {
        
        // 1. Buscamos el texto del artículo. 
        // En WordPress, el contenido suele estar dentro de la clase .entry-content
        // Si tu tema es diferente, puedes cambiarlo por 'article' o 'main'.
        let contenidoElemento = document.querySelector('.entry-content') || document.querySelector('article');
        
        if (contenidoElemento) {
            let textoLimpio = contenidoElemento.innerText;
            
            // 2. Localizamos el iframe
            let iframe = document.getElementById('iframe-resumidor').contentWindow;
            
            // 3. Enviamos el texto al iframe usando postMessage
            // Retrasamos un segundo el envío para asegurarnos de que el iframe ya haya cargado
            setTimeout(() => {
                iframe.postMessage({ tipo: "TEXTO_WP", texto: textoLimpio }, "*");
            }, 1000);
        }
    });
</script>
